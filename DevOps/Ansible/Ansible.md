Назад к: [[DevOps]]

### Общая информация:
Ansible — это инструмент автоматизации, который используется для управления конфигурациями, развертывания приложений и выполнения задач администрирования. Он помогает автоматизировать процессы настройки серверов и сервисов, устраняя необходимость в ручных настройках, что значительно упрощает управление ИТ-инфраструктурой. Ansible работает по принципу «безагентной» архитектуры, что значит, что для работы на целевых серверах не требуется установка агента. Вместо этого он использует SSH (или WinRM для Windows) для удаленного выполнения задач. Основные сценарии использования Ansible включают управление конфигурациями серверов, оркестрацию многокомпонентных развертываний, а также выполнение задач автоматизированного администрирования, таких как обновление ПО или управление учетными записями.

### Ключевые моменты:
- Не требует установки клиентов-агентов на целевые машины
- Использует SSH
- Написан на Python
- Используется YAML для написания конфигурации
- Есть готовые конфигурации
- Есть UI Ansible Tower / Ansible AWX

### Основные понятия:
- **Контроллер** — центральная машина, где установлен Ansible и с которой запускаются все команды и сценарии. Контроллер управляет конфигурацией и задачами, отправляя их на удалённые узлы (серверы).
    
- **Узлы (Nodes)** — удаленные системы (серверы, сетевые устройства и т.д.), которые управляются Ansible. Узлы могут быть физическими машинами, виртуальными машинами, контейнерами или облачными ресурсами. На них не требуется установка агента, так как Ansible использует SSH (или WinRM для Windows) для выполнения команд.
    
- **Инвентарь (Inventory)** — файл или набор файлов, где определены управляемые узлы. Инвентарь содержит IP-адреса или доменные имена узлов, на которых будут выполняться задачи, а также группы узлов для организации и структурирования.
    
- **Плейбуки (Playbooks)** — YAML-файлы, которые содержат набор задач для выполнения на узлах. Они описывают порядок и условия выполнения задач, делая Ansible более удобным для сложных сценариев автоматизации.
    
- **Модули (Modules)** — это библиотеки, встроенные в Ansible, которые выполняют отдельные задачи, например, установку пакетов, изменение конфигураций или управление пользователями. Модули являются базовыми строительными блоками для создания задач в плейбуках.
    
- **Роли (Roles)** — организованные структуры, которые упрощают управление набором задач, файлов и шаблонов. Роли помогают структурировать код и позволяют переиспользовать его в других проектах, сохраняя гибкость и читаемость.
    
- **Плагины (Plugins)** — расширения, которые добавляют дополнительные возможности в Ansible. Существуют плагины для подключения к узлам, ведения журнала, управления кешем и другие.
    
- **Шаблоны (Templates)** — файлы, в которых можно использовать динамические переменные, подставляемые через шаблонизатор Jinja2. Шаблоны позволяют создавать настраиваемые файлы конфигурации, гибкие под нужды конкретной системы.
    
- **CLI (Command Line Interface)** — интерфейс командной строки Ansible, с помощью которого пользователи запускают команды, плейбуки и другие действия для выполнения задач.